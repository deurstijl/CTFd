import{$ as c}from"./jquery.min.js";import{c as p}from"./ezq.min.js";import{d as l,b as m,h}from"./utils.min.js";import"./_commonjsHelpers.min.js";import"./index.min.js";const f={htmlEntities:h,colorHash:m,copyToClipboard:l},u={upload:(t,a,o)=>{const s=window.CTFd;t instanceof c&&(t=t[0]);var i=new FormData(t);i.append("nonce",s.config.csrfNonce);for(let[e,r]of Object.entries(a))i.append(e,r);var n=p.ezProgressBar({width:0,title:"Upload Progress"});c.ajax({url:s.config.urlRoot+"/api/v1/files",data:i,type:"POST",cache:!1,contentType:!1,processData:!1,xhr:function(){var e=c.ajaxSettings.xhr();return e.upload.onprogress=function(r){if(r.lengthComputable){var d=r.loaded/r.total*100;n=p.ezProgressBar({target:n,width:d})}},e},success:function(e){t.reset(),n=p.ezProgressBar({target:n,width:100}),setTimeout(function(){n.modal("hide")},500),o&&o(e)}})}},T={get_comments:t=>window.CTFd.fetch("/api/v1/comments?"+c.param(t),{method:"GET",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(o){return o.json()}),add_comment:(t,a,o,s)=>{const i=window.CTFd;let n={content:t,type:a,...o};i.fetch("/api/v1/comments",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){s&&s(e)})},delete_comment:t=>window.CTFd.fetch(`/api/v1/comments/${t}`,{method:"DELETE",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(o){return o.json()})},F={files:u,comments:T,utils:f,ezq:p};export{F as h};
