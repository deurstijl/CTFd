import{$ as g}from"./jquery.min.js";import{i as f}from"./index.min2.js";import{d as y}from"./dayjs.min.min.js";import{b as d,a as b}from"./utils.min.js";import"./_commonjsHelpers.min.js";const h={score_graph:{format:(u,s,i,p,l)=>{let r={title:{left:"center",text:"Score over Time"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:0,data:[i]},toolbox:{feature:{saveAsImage:{}}},grid:{containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:20,top:35,fillerColor:"rgba(233, 236, 241, 0.4)"}],series:[]};const n=[],a=[],o=l[0].data,m=l[2].data,e=o.concat(m);e.sort((t,c)=>new Date(t.date)-new Date(c.date));for(let t=0;t<e.length;t++){const c=y(e[t].date);n.push(c.toDate());try{a.push(e[t].challenge.value)}catch{a.push(e[t].value)}}return n.forEach(t=>{r.xAxis[0].data.push(t)}),r.series.push({name:window.stats_data.name,type:"line",label:{normal:{show:!0,position:"top"}},areaStyle:{normal:{color:d(i+s)}},itemStyle:{normal:{color:d(i+s)}},data:b(a)}),r}},category_breakdown:{format:(u,s,i,p,l)=>{let r={title:{left:"center",text:"Category Breakdown"},tooltip:{trigger:"item"},toolbox:{show:!0,feature:{saveAsImage:{}}},legend:{type:"scroll",orient:"vertical",top:"middle",right:0,data:[]},series:[{name:"Category Breakdown",type:"pie",radius:["30%","50%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},itemStyle:{normal:{label:{show:!0,formatter:function(e){return`${e.percent}% (${e.value})`}},labelLine:{show:!0}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"14",fontWeight:"normal"}}}},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[]}]};const n=l[0].data,a=[];for(let e=0;e<n.length;e++)a.push(n[e].challenge.category);const o=a.filter((e,t)=>a.indexOf(e)==t),m=[];for(let e=0;e<o.length;e++){let t=0;for(let c=0;c<a.length;c++)a[c]==o[e]&&t++;m.push(t)}return o.forEach((e,t)=>{r.legend.data.push(e),r.series[0].data.push({value:m[t],name:e,itemStyle:{color:d(e)}})}),r}},solve_percentages:{format:(u,s,i,p,l)=>{const r=l[0].data.length,n=l[1].meta.count;return{title:{left:"center",text:"Solve Percentages"},tooltip:{trigger:"item"},toolbox:{show:!0,feature:{saveAsImage:{}}},legend:{orient:"vertical",top:"middle",right:0,data:["Fails","Solves"]},series:[{name:"Solve Percentages",type:"pie",radius:["30%","50%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},itemStyle:{normal:{label:{show:!0,formatter:function(o){return`${o.name} - ${o.value} (${o.percent}%)`}},labelLine:{show:!0}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"14",fontWeight:"normal"}}}},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:n,name:"Fails",itemStyle:{color:"rgb(207, 38, 0)"}},{value:r,name:"Solves",itemStyle:{color:"rgb(0, 209, 64)"}}]}]}}}};function A(u,s,i,p,l,r,n){const a=h[u];let o=f(document.querySelector(s));o.setOption(a.format(p,l,r,n,i)),g(window).on("resize",function(){o!=null&&o!=null&&o.resize()})}function L(u,s,i,p,l,r,n){const a=h[u];f(document.querySelector(s)).setOption(a.format(p,l,r,n,i))}export{A as c,L as u};
