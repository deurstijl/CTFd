import{C as d,M as m}from"./main-fLwNSudD.js";const r={users:(t,e)=>d.api.patch_user_public({userId:t},e),teams:(t,e)=>d.api.patch_team_public({teamId:t},e)};function g(t){const e=t.currentTarget,o=e.dataset.accountId,s=e.dataset.state==="visible",i={hidden:s};r[d.config.userMode](o,i).then(a=>{a.success&&(e.dataset.state=s?"hidden":"visible",e.classList.toggle("btn-danger",s),e.classList.toggle("btn-success",!s),e.textContent=s?"Hidden":"Visible")})}function f(t,e){const o={hidden:e==="hidden"},n=[];t.accounts.forEach(s=>{n.push(r[d.config.userMode](s,o))}),t.users.forEach(s=>{n.push(r.users(s,o))}),Promise.all(n).then(()=>{window.location.reload()})}function b(t){t.preventDefault();const e=document.querySelector(".tab-pane.active");if(!e){alert("No active tab found.");return}const o=Array.from(e.querySelectorAll("input[data-account-id]:checked")).map(c=>c.dataset.accountId),n=Array.from(e.querySelectorAll("input[data-user-id]:checked")).map(c=>c.dataset.userId),s={accounts:o,users:n};if(o.length===0&&n.length===0){alert("Please select at least one user or account.");return}const i=document.getElementById("visibilityToggleModal"),a=new m(i);a.show();const l=document.getElementById("scoreboard-bulk-edit-form");l.onsubmit=c=>{c.preventDefault();const u=l.querySelector("select[name='visibility']").value;u?(f(s,u),a.hide()):alert("Please choose a visibility option.")}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".scoreboard-toggle").forEach(e=>{e.addEventListener("click",g)});const t=document.getElementById("scoreboard-edit-button");t&&t.addEventListener("click",b)});
